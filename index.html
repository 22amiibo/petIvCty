<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astroturf Petition</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .petition-form {
            max-width: 600px;
            margin: auto;
        }
        .petition-form h1 {
            text-align: center;
        }
        .petition-form textarea {
            width: 100%;
            height: 150px;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #ff0000;
            color: white;
            border: none;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="petition-form">
        <h1>Sign the Petition</h1>
        <p>Join us in sending an email to key officials in DC to take action!</p>
        <form id="petitionForm">
            <label for="firstName">First Name *</label><br>
            <input type="text" id="firstName" name="firstName" required><br><br>
            
            <label for="lastName">Last Name *</label><br>
            <input type="text" id="lastName" name="lastName" required><br><br>
            
            <label for="email">Email Address *</label><br>
            <input type="email" id="email" name="email" required><br><br>
            
            <label for="message">Message *</label><br>
            <textarea id="message" name="message">
Dear Mayor Muriel Bowser and DC Officials,

I urge you to address the issue of environmental injustice caused by unsafe facilities in our community. It's time to prioritize the safety and health of residents in DC. Please take immediate action to rectify this situation.

Sincerely,
[Your Name]
            </textarea><br><br>
            
            <button type="submit">Sign and Send</button>
        </form>
    </div>

    <script>
        document.getElementById('petitionForm').addEventListener('submit', async function (e) {
            e.preventDefault();

            const formData = {
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                message: document.getElementById('message').value
            };

            const response = await fetch('send_emails.php', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(formData)
            });

            const result = await response.json();
            alert(result.message);
        });
    </script>
</body>
</html>
